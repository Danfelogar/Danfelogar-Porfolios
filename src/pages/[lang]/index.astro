---
import Layout from '@/layouts/Layout.astro';
import { getLangFromUrl, getLocalizedPathname, useTranslations } from '@/i18n/utils';
import Navbar from '@/components/Navbar.astro';
import About from '@/components/About.astro';
import Experience from '@/components/Experience.astro';
import Tech from '@/components/Tech.astro';
import Works from '@/components/Works.astro';
import PoularPosts from '@/components/PoularPosts.astro';
import Contact from '@/components/Contact.astro';

const { pathname } = Astro.url;


const lang = getLangFromUrl(Astro.url);
const href = getLocalizedPathname(pathname, "es");
const href2= getLocalizedPathname(pathname, "en");

const t = useTranslations(lang);

export async function getStaticPaths() {
  return ["en","es"].map((lang) => {
    return { params: { lang } };
  });
}

---

<Layout title={t("site.title")} description={t("site.description")} lang={lang}>
	<div class="relative z-0 bg-primary-2">
	  <div class="bg-personal-bg bg-cover bg-no-repeat bg-center">
		<Navbar />
		<header />
	  </div>
	  <About/>
	  <Experience />
	  <Tech />
	  <Works />
	  <PoularPosts />
	  <div class="relative z-0">
		  <Contact />
	  </div>
	</div>
  </Layout>
  
  <style>
  
  </style>

